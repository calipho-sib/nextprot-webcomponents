<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../quality-label/quality-label.html">
<link rel="import" href="../publication-item/publication-item.html">
<!--
`evidence-item`
Block element representing an evidence record.
@demo demo/index.html
-->
<dom-module id="evidence-item">
    <template>
        <style>
            :host {
                display: block;
                padding-left: 10px;
            }
            .evidence-container {
                margin: 15px 0 0 0;
            }
            .evidence-arrow {
                transform:rotate(180deg);
                display:inline-block;
                font-weight: 900;
            }
            .evidence-code-name {
                background-color:#7cba0f;
                color:white;
                border-radius:2px 0px 0px 2px;
                margin-left: 5px;
            }
            .evidence-source {
                background-color: #dedede;
                color: #999;
                border-radius: 0px 2px 2px 0px;
            }
            .evidence-accession {
                margin-top: 5px;
                padding: 0px 17px;
            }
            .evidence-publication{
                margin-top: 5px;
                padding-left: 17px;
            }
            .colored-label {
                padding:1px 3px;
                margin-bottom: 1px;
            }
            .border-left {
                border-left: 1px solid #ddd;
            }
            .ext-link:after {
                content: "\f08e";
                font-family: "FontAwesome";
                font-size: 11px;
                margin-left: 5px;
                vertical-align: middle;
            }
        </style>
        <template is="dom-if" if="{{data.evidenceCodeName}}">
            <div class="evidence-container">
                <div class="evidence-arrow">&#10549;</div>  Evidence {{index}}:
                <span class="colored-label evidence-code-name">{{data.evidenceCodeName}}</span><span class="colored-label evidence-source">{{_getSource()}}</span>
                <quality-label quality={{data.qualityQualifier}}></quality-label>
            </div>
            <template id="menu" is="dom-if" if="{{data.resourceAccession}}">
                <div class="evidence-accession border-left">
                    <p><a href="{{data.url}}" class="ext-link" target='_blank'>{{data.resourceAccession}}</a></p>
                </div>
            </template>
            <template id="menu" is="dom-if" if="{{data.publication}}">
                <div class="evidence-publication border-left">
                    <publication-item data="{{data.publication}}"></publication-item>
                </div>
            </template>
        </template>
    </template>
    <script>
        Polymer({
            is: 'evidence-item',
            properties: {
                data: {
                    type: Object
                },
                index: {
                    type: Number
                }
            },
            _getSource: function(){
                return this.data.resourceDb || this.data.assignedBy;
            }
        });
    </script>
</dom-module>